"use strict";const listUl=document.querySelector(".js_list"),saveButton=document.querySelector(".js_save"),recoverButton=document.querySelector(".js_recover");let data=[];function getDataApi(){fetch("https://randomuser.me/api/?results=10").then(e=>e.json()).then(e=>{data=e.results.map(e=>({id:e.id.value,fullName:e.name.first+" "+e.name.last,city:e.location.city,photo:e.picture.medium,username:e.login.username,isFriend:!1})),renderUsers()})}function listenerCards(){const e=document.querySelectorAll(".js_card");for(const s of e)s.addEventListener("click",handleClick)}function renderUsers(e){let s="";for(const e of data)!0===e.isFriend?s+=`\n          <li class="js_card card card_selected" id="${e.id}" isFriend="${e.isFriend}">\n              <img class="card__img" src=${e.photo}> \n              <h2 class="card__title">${e.fullName}</h2>\n              <h4 class="card__sub">${e.city}</h4>\n              <h4 class="card__sub">${e.username}</h4>\n          </li>`:s+=`\n          <li class="js_card card" id="${e.id}" isFriend="${e.isFriend}">\n              <img class="card__img" src=${e.photo}> \n              <h2 class="card__title">${e.fullName}</h2>\n              <h4 class="card__sub">${e.city}</h4>\n              <h4 class="card__sub">${e.username}</h4>\n          </li>`;listUl.innerHTML=s,listenerCards()}function handleClick(e){const s=e.currentTarget.id,t=data.find(e=>e.id===s);!0===t.isFriend?t.isFriend=!1:t.isFriend=!0,renderUsers(),listenerCards()}function handleClickSave(e){localStorage.setItem("dataFrom",JSON.stringify(data))}function handleClickRecover(e){data=JSON.parse(localStorage.getItem("dataFrom")),renderUsers()}getDataApi(),saveButton.addEventListener("click",handleClickSave),recoverButton.addEventListener("click",handleClickRecover);