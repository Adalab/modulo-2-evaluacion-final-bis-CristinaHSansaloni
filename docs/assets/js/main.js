"use strict";const listUl=document.querySelector(".js_list"),saveButton=document.querySelector(".js_save"),recoverButton=document.querySelector(".js_recover");let data=[];function handleClick(e){const t=e.currentTarget.id,s=data.find(e=>e.id===t);!0===s.isFriend?s.isFriend=!1:s.isFriend=!0,renderUsers(),listenerCards()}function listenerCards(){const e=document.querySelectorAll(".js_card");for(const t of e)t.addEventListener("click",handleClick)}function renderUsers(e){let t="";for(const e of data)!0===e.isFriend?t+=`\n        <li class="js_card card card_selected" id="${e.id}" isFriend="${e.isFriend}">\n            <img class="card__img" src=${e.photo}> \n            <h2 class="card__title">${e.fullName}</h2>\n            <h4 class="card__sub">${e.city}</h4>\n            <h4 class="card__sub">${e.username}</h4>\n        </li>`:t+=`\n        <li class="js_card card" id="${e.id}" isFriend="${e.isFriend}">\n            <img class="card__img" src=${e.photo}> \n            <h2 class="card__title">${e.fullName}</h2>\n            <h4 class="card__sub">${e.city}</h4>\n            <h4 class="card__sub">${e.username}</h4>\n        </li>`;listUl.innerHTML=t,listenerCards()}function getDataApi(){fetch("https://randomuser.me/api/?results=10").then(e=>e.json()).then(e=>{data=e.results.map(e=>({id:e.id.name,fullName:e.name.first+" "+e.name.last,city:e.location.city,photo:e.picture.medium,username:e.login.username,isFriend:!1})),console.log(data),renderUsers()})}function handleClickSave(e){e.preventDefault(),localStorage.setItem("dataFrom",JSON.stringify(data)),console.log("Esta guardando")}function handleClickRecover(e){e.preventDefault(),data=JSON.parse(localStorage.getItem("dataFrom")),renderUsers()}getDataApi(),saveButton.addEventListener("click",handleClickSave),recoverButton.addEventListener("click",handleClickRecover);